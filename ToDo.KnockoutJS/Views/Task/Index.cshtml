@{
    ViewData["Title"] = "Tasks";
}

<div id="task-container">
    <div class="card bg-dark">
        <div class="card-header">
            <button class="btn btn-primary float-end"
                    data-bind="click: function(modalPlaceholder, task) { addEditTask($('#modal-placeholder'), null, modalPlaceholder, task) }">
                Add
            </button>
        </div>
        <div class="card-body">
            <table class="table table-striped table-dark">
                <thead>
                    <tr>
                        <th class="col-2"></th>
                        <th class="col-8">Description</th>
                        <th class="col-2"></th>
                    </tr>
                </thead>
                <tbody>
                    <!--  ko if: tasks().length > 0 -->
                        <!-- ko foreach: tasks -->
                            <tr>
                                <td data-bind="text: $index() + 1"></td>
                                <td data-bind="text: description"></td>
                                <td>
                                    <div class="d-flex justify-content-center">
                                        <button class="btn btn-primary me-2"
                                                data-bind="click: function(modalPlaceholder, task) { $parent.addEditTask($('#modal-placeholder'), $data, modalPlaceholder, task) }">Edit</button>
                                        <button class="btn btn-danger"
                                                data-bind="click: function(modalPlaceholder, task, index) { $parent.deleteTask($('#modal-placeholder'), $data, $index(), modalPlaceholder, task, index) }">Delete</button>
                                    </div>
                                </td>
                            </tr>
                        <!-- /ko -->
                    <!-- /ko -->
                    <!-- ko if: tasks().length <= 0 -->
                        <tr>
                            <td colspan="3">
                                <div class="d-flex justify-content-center">
                                    <span>No Results</span>
                                </div>
                            </td>
                        </tr>
                    <!-- /ko -->
                </tbody>
            </table>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/ViewModels/ToDoViewModel.js" type="text/javascript" asp-append-version="true"></script>
}